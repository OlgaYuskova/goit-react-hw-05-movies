"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[270],{197:function(t,e,r){r.d(e,{Hx:function(){return p},Y5:function(){return i},qF:function(){return f},uV:function(){return o},vw:function(){return s}});var n=r(861),u=r(757),a=r.n(u),c=r(340);c.Z.defaults.baseURL="https://api.themoviedb.org";c.Z.defaults.params={api_key:"cb47733d8738b823995f01432c3cdbcf"};var s=function(){var t=(0,n.Z)(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("/3/trending/movie/week");case 3:return e=t.sent,t.abrupt("return",e);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=(0,n.Z)(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("/3/movie/".concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,n.Z)(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("/3/movie/".concat(e,"/credits"));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,n.Z)(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("3/movie/".concat(e,"/reviews"));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("/3/search/movie?query=".concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},270:function(t,e,r){r.r(e),r.d(e,{default:function(){return h}});var n=r(861),u=r(439),a=r(757),c=r.n(a),s=r(791),i=r(689),o=r(87),p=r(184),f=function(t){var e=t.onSubmit,r=(0,s.useState)(""),n=(0,u.Z)(r,2),a=n[0],c=n[1];return(0,p.jsx)("div",{children:(0,p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(a),c("")},children:[(0,p.jsx)("label",{children:(0,p.jsx)("input",{onChange:function(t){c(t.target.value)},"aria-label":"select",className:"input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",value:a})}),(0,p.jsx)("button",{type:"submit",children:"Search"})]})})},l=function(t){var e=t.movies,r=t.location;return(0,p.jsx)("ul",{children:e.map((function(t){return(0,p.jsx)("li",{children:(0,p.jsx)(o.OL,{to:"/movies/".concat(t.id),state:{from:r},children:t.original_title})},t.id)}))})},v=r(197),h=function(){var t=(0,i.TH)(),e=(0,s.useState)(null),r=(0,u.Z)(e,2),a=r[0],h=r[1],d=(0,s.useState)(""),m=(0,u.Z)(d,2),x=(m[0],m[1]),w=(0,o.lr)(),b=(0,u.Z)(w,2),Z=b[0],k=b[1],j=Z.get("query");(0,s.useEffect)((function(){var t=function(){var t=(0,n.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,(0,v.qF)(j);case 5:e=t.sent,h(e.results),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),x(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[j]);return(0,p.jsx)("section",{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(f,{onSubmit:function(t){if(""===t)return k({});k({query:t})}}),a&&(0,p.jsx)(l,{movies:a,location:t})]})})}}}]);
//# sourceMappingURL=270.d7569290.chunk.js.map